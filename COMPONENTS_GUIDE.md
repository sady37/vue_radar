# ç»„ä»¶å¼€å‘æŒ‡å—

## å·²å®Œæˆç»„ä»¶

### 1. RadarCanvas.vueï¼ˆé›·è¾¾ç”»å¸ƒï¼‰âœ…

**ä½ç½®**ï¼š`src/components/RadarCanvas.vue`

**åŠŸèƒ½**ï¼š
- âœ… ç”»å¸ƒåæ ‡ç³»ï¼ˆåŸç‚¹åœ¨é¡¶éƒ¨ä¸­å¿ƒï¼‰
- âœ… ç½‘æ ¼ç»˜åˆ¶ï¼ˆ50å•ä½é—´éš”ï¼‰
- âœ… åæ ‡è½´ç»˜åˆ¶ï¼ˆXè½´å‚ç›´ï¼ŒYè½´æ°´å¹³ï¼‰
- âœ… åˆ»åº¦æ ‡æ³¨ï¼ˆ100å•ä½é—´éš”ï¼‰
- âœ… ç¼©æ”¾æ§åˆ¶ï¼ˆ0.5x - 2.0xï¼‰
- âœ… é¼ æ ‡æ»šè½®ç¼©æ”¾
- âœ… é¼ æ ‡åæ ‡å®æ—¶æ˜¾ç¤º
- âœ… è¾¹æ¡†ç»˜åˆ¶

**å°ºå¯¸**ï¼š620 Ã— 520 åƒç´ 

**åæ ‡ç³»**ï¼š
```
ç”»å¸ƒåæ ‡ç³»ï¼š
- åŸç‚¹ï¼š(0, 0) åœ¨ç”»å¸ƒé¡¶éƒ¨ä¸­å¿ƒ
- Xè½´ï¼šå‘å·¦ä¸ºè´Ÿ(-)ï¼Œå‘å³ä¸ºæ­£(+)
- Yè½´ï¼šå‘ä¸‹ä¸ºæ­£(+)ï¼Œå‘ä¸Šä¸ºè´Ÿ(-)

é›·è¾¾åæ ‡ç³»ï¼ˆceilingæ¨¡å¼ï¼‰ï¼š
- åŸç‚¹ï¼šé›·è¾¾ä¸­å¿ƒ
- Hè½´ï¼š+H=-Xï¼ˆå‘å·¦ï¼‰ï¼Œ-H=+Xï¼ˆå‘å³ï¼‰
- Vè½´ï¼š+V=+Yï¼ˆå‘ä¸‹ï¼‰ï¼Œ-V=-Yï¼ˆå‘ä¸Šï¼‰
```

**å¿«æ·é”®**ï¼š
- æ»šè½®ï¼šç¼©æ”¾
- é¼ æ ‡ç§»åŠ¨ï¼šæ˜¾ç¤ºåæ ‡

**å¾…å®ç°**ï¼š
- [ ] ç»˜åˆ¶é›·è¾¾è®¾å¤‡
- [ ] ç»˜åˆ¶å®¶å…·/ç»“æ„
- [ ] å¯¹è±¡é€‰æ‹©å’Œæ‹–åŠ¨
- [ ] é›·è¾¾è¾¹ç•Œæ˜¾ç¤º
- [ ] å¯¹è±¡å±æ€§ç¼–è¾‘

---

### 2. WaveformMonitor.vueï¼ˆæ³¢å½¢ç›‘è§†å™¨ï¼‰âœ…

**ä½ç½®**ï¼š`src/components/WaveformMonitor.vue`

**åŠŸèƒ½**ï¼š
- âœ… 4è·¯æ³¢å½¢æ˜¾ç¤º
  - å¿ƒç‡ï¼ˆ-- BPMï¼‰
  - å‘¼å¸ï¼ˆ-- RPMï¼‰
  - ç¡çœ çŠ¶æ€
  - ä½“åŠ¨
- âœ… æš‚åœ/ç»§ç»­æ§åˆ¶
- âœ… æ¸…ç©ºæ•°æ®
- âœ… ç½‘æ ¼èƒŒæ™¯
- âœ… æ¨¡æ‹Ÿæ³¢å½¢ï¼ˆå ä½ï¼‰

**å°ºå¯¸**ï¼š620 Ã— 520 åƒç´ 

**å¸ƒå±€**ï¼š
- æ ‡é¢˜æ ï¼š~40px
- æ¯è·¯æ³¢å½¢ï¼š~100px
- æ€»å…±å¯æ˜¾ç¤º 4 è·¯æ³¢å½¢

**å¾…å®ç°**ï¼š
- [ ] å®æ—¶æ•°æ®ç»‘å®š
- [ ] æ³¢å½¢æ»šåŠ¨æ˜¾ç¤º
- [ ] æ•°æ®å­˜å‚¨å’Œå›æ”¾
- [ ] æŠ¥è­¦é˜ˆå€¼è®¾ç½®
- [ ] æ•°æ®å¯¼å‡º

---

### 3. Toolbar.vueï¼ˆå·¥å…·æ ï¼‰âœ…

**ä½ç½®**ï¼š`src/components/Toolbar.vue`

**åŠŸèƒ½**ï¼š
- âœ… IoTè®¾å¤‡æ·»åŠ 
  - ğŸ“¡ é›·è¾¾
  - ğŸ›ï¸ ç¡çœ ç›‘æµ‹
  - ğŸ” ä¼ æ„Ÿå™¨
- âœ… å®¶å…·/ç»“æ„æ·»åŠ 
  - ğŸ›ï¸ åºŠ
  - ğŸª‘ æ¡Œå­
  - ğŸ§± å¢™ä½“
  - ğŸšª é—¨
- âœ… ç»˜å›¾å·¥å…·é€‰æ‹©
  - â–­ çŸ©å½¢
  - â­• åœ†å½¢
  - ğŸ“ çº¿æ®µ
  - â—” æ‰‡å½¢
- âœ… è§†å›¾æ§åˆ¶
  - æ˜¾ç¤ºç½‘æ ¼
  - æ˜¾ç¤ºåˆ»åº¦

**å°ºå¯¸**ï¼š200 Ã— 520 åƒç´ 

**å¾…å®ç°**ï¼š
- [ ] ä¸ç”»å¸ƒç»„ä»¶é€šä¿¡
- [ ] è®¾å¤‡é…ç½®é¢æ¿
- [ ] å¯¹è±¡å±æ€§ç¼–è¾‘é¢æ¿
- [ ] å›¾å±‚ç®¡ç†
- [ ] å¿«æ·é”®æ”¯æŒ

---

### 4. App.vueï¼ˆä¸»åº”ç”¨ï¼‰âœ…

**ä½ç½®**ï¼š`src/App.vue`

**å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Canvas  â”‚ S â”‚ Waveform â”‚ S â”‚ Toolbar â”‚
â”‚  620Ã—520 â”‚ 1 â”‚  620Ã—520 â”‚ 2 â”‚ 200Ã—520 â”‚
â”‚          â”‚ 0 â”‚          â”‚ 0 â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½**ï¼š
- âœ… ä¸‰å—æ¨ªå‘å¸ƒå±€
- âœ… å·¥å…·æ æŠ˜å /å±•å¼€
- âœ… åˆ†éš”å™¨äº¤äº’
- âœ… å“åº”å¼è®¾è®¡

**æ€»å®½åº¦**ï¼š
- å±•å¼€ï¼š1460px (620+10+620+10+200)
- æŠ˜å ï¼š1250px (620+10+620+10)

---

## ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ App.vue                    âœ… ä¸»åº”ç”¨
â”œâ”€â”€ main.ts                    âœ… å…¥å£
â”œâ”€â”€ style.css                  âœ… å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ components/                âœ… ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ RadarCanvas.vue       âœ… é›·è¾¾ç”»å¸ƒ
â”‚   â”œâ”€â”€ WaveformMonitor.vue   âœ… æ³¢å½¢ç›‘è§†å™¨
â”‚   â””â”€â”€ Toolbar.vue           âœ… å·¥å…·æ 
â”‚
â”œâ”€â”€ config/                    ğŸ”² å¾…åˆ›å»º
â”‚   â””â”€â”€ constants.ts
â”‚
â”œâ”€â”€ stores/                    ğŸ”² å¾…åˆ›å»º
â”‚   â”œâ”€â”€ canvas.ts
â”‚   â”œâ”€â”€ objects.ts
â”‚   â”œâ”€â”€ radarData.ts
â”‚   â””â”€â”€ waveform.ts
â”‚
â””â”€â”€ utils/                     âœ… å·¥å…·å‡½æ•°
    â”œâ”€â”€ types.ts              âœ… ç±»å‹å®šä¹‰
    â”œâ”€â”€ radarUtils.ts         âœ… åæ ‡å·¥å…·
    â”œâ”€â”€ objectHelpers.ts      âœ… å¯¹è±¡è¾…åŠ©
    â”œâ”€â”€ drawShapes.ts         âœ… åŸºæœ¬å›¾å½¢
    â”œâ”€â”€ drawDevices.ts        âœ… è®¾å¤‡ç»˜åˆ¶
    â”œâ”€â”€ drawObjects.ts        âœ… å¯¹è±¡ç»˜åˆ¶
    â””â”€â”€ drawingTool.ts        âœ… äº¤äº’å·¥å…·
```

---

## ä½¿ç”¨æ–¹å¼

### å¯åŠ¨é¡¹ç›®

```bash
cd /Users/sady3721/project/vue_radar
npm install  # å¦‚æœè¿˜æ²¡å®‰è£…ä¾èµ–
npm run dev
```

### è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:5173`

---

## ç»„ä»¶é€šä¿¡

### å½“å‰çŠ¶æ€

ç›®å‰ç»„ä»¶æ˜¯ç‹¬ç«‹çš„ï¼Œæ²¡æœ‰å®ç°ç»„ä»¶é—´é€šä¿¡ã€‚

### å»ºè®®çš„é€šä¿¡æ–¹å¼

#### æ–¹æ¡ˆ1ï¼šPinia Storeï¼ˆæ¨èï¼‰

```typescript
// stores/canvas.ts
export const useCanvasStore = defineStore('canvas', {
  state: () => ({
    scale: 1.0,
    showGrid: true,
    showScale: true,
    objects: []
  }),
  actions: {
    setScale(scale: number) {
      this.scale = scale;
    }
  }
});

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { useCanvasStore } from '@/stores/canvas';
const canvasStore = useCanvasStore();
```

#### æ–¹æ¡ˆ2ï¼šProps + Emit

```vue
<!-- App.vue -->
<RadarCanvas 
  :scale="scale" 
  :showGrid="showGrid"
  @update:scale="scale = $event"
/>

<!-- RadarCanvas.vue -->
const props = defineProps<{
  scale: number;
  showGrid: boolean;
}>();

const emit = defineEmits<{
  'update:scale': [value: number];
}>();
```

#### æ–¹æ¡ˆ3ï¼šProvide/Inject

```typescript
// App.vue
provide('canvasConfig', {
  scale: ref(1.0),
  showGrid: ref(true)
});

// RadarCanvas.vue
const config = inject('canvasConfig');
```

---

## ä¸‹ä¸€æ­¥å¼€å‘

### ä¼˜å…ˆçº§1ï¼šçŠ¶æ€ç®¡ç†

- [ ] åˆ›å»º Pinia stores
  - [ ] `stores/canvas.ts` - ç”»å¸ƒçŠ¶æ€
  - [ ] `stores/objects.ts` - å¯¹è±¡ç®¡ç†
  - [ ] `stores/radarData.ts` - é›·è¾¾æ•°æ®
  - [ ] `stores/waveform.ts` - æ³¢å½¢æ•°æ®

### ä¼˜å…ˆçº§2ï¼šç»„ä»¶é›†æˆ

- [ ] Toolbar â†’ Canvas é€šä¿¡
  - [ ] æ·»åŠ è®¾å¤‡
  - [ ] é€‰æ‹©ç»˜å›¾å·¥å…·
  - [ ] è§†å›¾æ§åˆ¶ï¼ˆç½‘æ ¼ã€åˆ»åº¦ï¼‰

- [ ] Canvas â†’ Toolbar åé¦ˆ
  - [ ] é€‰ä¸­å¯¹è±¡
  - [ ] æ˜¾ç¤ºå¯¹è±¡å±æ€§

### ä¼˜å…ˆçº§3ï¼šç»˜å›¾åŠŸèƒ½

- [ ] é›†æˆ `drawingTool.ts`
  - [ ] çŸ©å½¢ç»˜åˆ¶
  - [ ] åœ†å½¢ç»˜åˆ¶
  - [ ] çº¿æ®µç»˜åˆ¶
  - [ ] æ‰‡å½¢ç»˜åˆ¶

- [ ] å¯¹è±¡ç®¡ç†
  - [ ] æ·»åŠ å¯¹è±¡
  - [ ] é€‰æ‹©å¯¹è±¡
  - [ ] æ‹–åŠ¨å¯¹è±¡
  - [ ] åˆ é™¤å¯¹è±¡
  - [ ] ç¼–è¾‘å±æ€§

### ä¼˜å…ˆçº§4ï¼šæ•°æ®æ˜¾ç¤º

- [ ] é›·è¾¾æ•°æ®å¯è§†åŒ–
  - [ ] ç»˜åˆ¶é›·è¾¾è®¾å¤‡
  - [ ] æ˜¾ç¤ºé›·è¾¾è¾¹ç•Œ
  - [ ] æ˜¾ç¤ºæ¢æµ‹ç›®æ ‡
  - [ ] è½¨è¿¹æ˜¾ç¤º

- [ ] æ³¢å½¢æ•°æ®
  - [ ] å®æ—¶æ•°æ®æ¥å…¥
  - [ ] æ³¢å½¢æ»šåŠ¨
  - [ ] å†å²å›æ”¾

---

## æŠ€æœ¯æ ˆ

- **Vue 3** - ç»„ä»¶æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Canvas API** - 2Dç»˜å›¾
- **Vite** - å¼€å‘å·¥å…·
- **Pinia** - çŠ¶æ€ç®¡ç†ï¼ˆå¾…é›†æˆï¼‰

---

## å¼€å‘è§„èŒƒ

### ç»„ä»¶å‘½å

- å¤§é©¼å³°ï¼š`RadarCanvas.vue`
- ç»„ä»¶ååŒ…å«å¤šä¸ªå•è¯

### æ ·å¼è§„èŒƒ

- ä½¿ç”¨ `scoped` æ ·å¼
- å°ºå¯¸å•ä½ï¼špx
- é¢œè‰²ï¼šåå…­è¿›åˆ¶æˆ– rgb/rgba

### ç±»å‹å®šä¹‰

- æ‰€æœ‰ç±»å‹å®šä¹‰åœ¨ `utils/types.ts`
- ç»„ä»¶å†…éƒ¨æ¥å£å®šä¹‰åœ¨ç»„ä»¶æ–‡ä»¶ä¸­

### ä»£ç é£æ ¼

- ä½¿ç”¨ ESLint
- å•å¼•å·
- 2ç©ºæ ¼ç¼©è¿›
- åˆ†å·ç»“å°¾

---

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆç”»å¸ƒåŸç‚¹åœ¨é¡¶éƒ¨ä¸­å¿ƒï¼Ÿ

A: è¿™æ˜¯é›·è¾¾ç›‘æ§ç³»ç»Ÿçš„æƒ¯ä¾‹ï¼Œé›·è¾¾é€šå¸¸å®‰è£…åœ¨æˆ¿é—´é¡¶éƒ¨ï¼ŒåŸç‚¹è®¾åœ¨é¡¶éƒ¨ä¸­å¿ƒä¾¿äºè¡¨ç¤ºé›·è¾¾ä½ç½®ã€‚

### Q: åæ ‡ç³»è½¬æ¢å¦‚ä½•å·¥ä½œï¼Ÿ

A: ä½¿ç”¨ `radarUtils.ts` ä¸­çš„å·¥å…·å‡½æ•°ï¼š
```typescript
// é›·è¾¾åæ ‡ â†’ ç”»å¸ƒåæ ‡
const canvasPoint = toCanvasCoordinate(radarPoint, radar);

// ç”»å¸ƒåæ ‡ â†’ é›·è¾¾åæ ‡
const radarPoint = toRadarCoordinate(canvasX, canvasY, radar);
```

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ç»˜å›¾å·¥å…·ï¼Ÿ

A: å‚è€ƒ `utils/drawingTool.ts`ï¼Œå®ç°æ–°çš„å·¥å…·æ¨¡å¼ã€‚

### Q: ç»„ä»¶å¦‚ä½•é€šä¿¡ï¼Ÿ

A: å»ºè®®ä½¿ç”¨ Pinia store è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œå®ç°ç»„ä»¶é—´æ•°æ®å…±äº«ã€‚

---

## å‚è€ƒæ–‡æ¡£

- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [TypeScript æ–‡æ¡£](https://www.typescriptlang.org/)
- [Canvas API](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API)
- [Pinia æ–‡æ¡£](https://pinia.vuejs.org/)

---

**åˆ›å»ºæ—¶é—´**ï¼š2025-10-29  
**æœ€åæ›´æ–°**ï¼š2025-10-29  
**ç‰ˆæœ¬**ï¼šv1.0

